(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2692:function(e,r,t){Promise.resolve().then(t.bind(t,1214))},1214:function(e,r,t){"use strict";t.r(r);var s=t(9268),a=t(8367),l=t(5846),n=t.n(l),i=t(6006),d=t(2687),c=t(4214),o=t(6008),m=t(2592),u=t(474),x=t(5283);r.default=()=>{let[e,r]=(0,m.Z)(),{data:t,newData:l,loading:h,setLoading:g}=(0,d.EG)()||void 0,[b,f]=(0,i.useState)(""),[p,y]=(0,i.useState)(""),j=(0,o.useRouter)(),w=async e=>{if(e.preventDefault(),b&&p){if(p.length<6)(0,u.Am)("password must be atleast of 6 characters");else try{g(!0);let e=await c.Z.post("https://mern-jwt-authentication-backend.vercel.app/api/users/auth",{email:b,password:p});l(e.data),r("jwt",e.data.token,{path:"/",maxAge:2592e6,sameSite:!0}),(0,u.Am)("Login successful"),j.push("/"),g(!1)}catch(e){(0,u.Am)(e.response.data.message),console.log(e),g(!1)}}else(0,u.Am)("Enter both fields")};return((0,i.useEffect)(()=>{null!=t._id&&((0,u.Am)("Logout To login again"),j.push("/"))}),null!=t._id)?(0,s.jsx)("div",{className:"flex h-screen justify-center items-center",children:"logout to login again"}):h?(0,s.jsx)(x.Z,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{className:"bg-gray-50 dark:bg-gray-900 h-screen overflow-hidden",children:[(0,s.jsx)(a.Z,{}),(0,s.jsx)("div",{className:"flex flex-col items-center mt-20 px-6 py-8 mx-auto md:h-screen lg:py-0 mt-28",children:(0,s.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,s.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),(0,s.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:w,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:!0,value:b,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,onChange:e=>y(e.target.value),value:p})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"remember","aria-describedby":"remember",type:"checkbox",className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",required:!0})}),(0,s.jsx)("div",{className:"ml-3 text-sm",children:(0,s.jsx)("label",{htmlFor:"remember",className:"text-gray-500 dark:text-gray-300",children:"Remember me"})})]}),(0,s.jsx)("a",{href:"#",className:"text-sm font-medium text-white hover:underline dark:text-primary-500",children:"Forgot password?"})]}),(0,s.jsx)("button",{type:"submit",className:" w-full text-white bg-blue-400 hover:bg-blue-300 rounded py-2 ",children:"Sign in"}),(0,s.jsxs)("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don’t have an account yet? ",(0,s.jsx)(n(),{href:"/register",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Sign up"})]})]})]})})})]})})}},8367:function(e,r,t){"use strict";var s=t(9268),a=t(5846),l=t.n(a),n=t(2687),i=t(2801),d=t(1033),c=t(6006),o=t(2592),m=t(474),u=t(6008);r.Z=()=>{let[e,r]=(0,o.Z)(),{data:t,newData:a}=(0,n.EG)(),[x,h]=(0,c.useState)(!1),g=(0,u.useRouter)();return null!=t.name?(0,s.jsxs)("header",{className:"text-gray-600 body-font dark:bg-gray-800 fixed w-full top-0 h-24-",children:[(0,s.jsxs)("div",{className:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center",children:[(0,s.jsx)(l(),{href:"/",className:"flex title-font font-medium items-center text-white mb-4 md:mb-0",children:(0,s.jsx)("span",{className:"ml-3 text-xl",children:"Mern Auth"})}),(0,s.jsx)("nav",{className:" md:ml-auto flex flex-wrap items-center text-base justify-center",children:(0,s.jsxs)("div",{onClick:()=>h(!0),className:"cursor-pointer flex flex-col justify-center items-center border-solid border-2 border-sky-5 justi00 rounded-xl py-2 px-2",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-center items-center",children:[(0,s.jsx)(i.q1E,{className:"text-white my-auto mr-1"}),(0,s.jsx)("h4",{className:"text-white",children:t.name})]}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-blue-300 hover:text-white text-xs underline",children:"view profile"})})]})})]}),(0,s.jsxs)("div",{className:"".concat(x?"":"hidden"," absolute right-0 top-4 bg-white p-4 space-y-4 rounded-xl border-2"),children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(d.LHV,{onClick:()=>h(!1),size:30,className:"absolute right-0 cursor-pointer"})}),(0,s.jsxs)("ul",{className:"space-y-4",children:[(0,s.jsxs)("li",{children:[" ",(0,s.jsx)("strong",{children:"Name : "})," ",t.name]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Email : "}),t.email]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"ID : "}),t._id]})]}),(0,s.jsx)("button",{onClick:()=>g.push("/profile"),className:"bg-blue-500 hover:bg-blue-700 text-sm text-white font-bold p-1 rounded",children:"edit profile"}),(0,s.jsx)("button",{onClick:()=>{r("jwt","",{expires:new Date}),a({_id:null,name:null,email:null}),(0,m.Am)("logged out successfully")},className:" ml-2 bg-blue-500 hover:bg-blue-700 text-sm text-white font-bold p-1 rounded",children:"logout"})]})]}):(0,s.jsx)("header",{className:"text-gray-600 body-font dark:bg-gray-800 fixed w-full top-0",children:(0,s.jsxs)("div",{className:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center",children:[(0,s.jsx)(l(),{href:"/",className:"flex title-font font-medium items-center text-white mb-4 md:mb-0",children:(0,s.jsx)("span",{className:"ml-3 text-xl",children:"Mern Auth"})}),(0,s.jsxs)("nav",{className:" md:ml-auto flex flex-wrap items-center text-base justify-center",children:[(0,s.jsx)(l(),{href:"/login",className:"mr-5 hover:text-gray-900",children:(0,s.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Login"})}),(0,s.jsx)(l(),{href:"/register",className:"mr-5 hover:text-gray-900",children:(0,s.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Sign up"})})]})]})})}},5283:function(e,r,t){"use strict";var s=t(9268),a=t(2687);r.Z=()=>{let{loading:e}=(0,a.EG)();return e?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen w-full",children:(0,s.jsx)("h1",{children:"Loading"})}):null}},2687:function(e,r,t){"use strict";t.d(r,{EG:function(){return i},R:function(){return n}});var s=t(9268),a=t(6006);let l=(0,a.createContext)(),n=e=>{let{children:r}=e,[t,n]=(0,a.useState)({_id:null,name:null,email:null}),[i,d]=(0,a.useState)(!1);return(0,s.jsx)(l.Provider,{value:{data:t,newData:e=>{n(e)},loading:i,setLoading:d},children:r})},i=()=>(0,a.useContext)(l)}},function(e){e.O(0,[132,776,959,492,667,488,744],function(){return e(e.s=2692)}),_N_E=e.O()}]);